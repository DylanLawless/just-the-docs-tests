{%- comment -%}
  Usage:
    To use math in Markdown or HTML files, set `math: katex` or `math: mathjax`
    in _config.yml and/or in the front matter of layouts and/or pages.
    
    Enclose inline and display math in `$$…$$` in Markdown files.
    
    The default settings for jekyll, kramdown, katex, and mathjax render the
    enclosed math properly. Here is a brief explanation of how that works:
    
    The default `math_engine` in kramdown is `mathjax`. When GitHub Pages builds
    a Jekyll site (in the classic way), it insists that kramdown uses `mathjax`.
    But the `mathjax` math engine merely replaces `$$…$$` by `\(…\)` or `\[…\]`,
    according to the context. The JavaScript code for MathJax or KaTeX searches
    for `\(…\)`and `\[…\]`, and converts them to HTML.

  Configuration requirement:

    compress_html:
      ignore:
        envs: all
    OR
      blanklines: true

  If `math: katex`   is set for any page, _includes/katex.html   must exist.
  If `math: mathjax` is set for any page, _includes/mathjax.html must exist.
{%- endcomment -%}

{% assign math = page.math | default: layout.math | default: site.math %}
{% case math %}
  {% when "katex" %}
    {% include katex.html %}
  {% when "mathjax" %}
    {% include mathjax.html %}
{% endcase %}
